<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Obsidian: stateline::comms::Requester Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Obsidian
   </div>
   <div id="projectbrief">Probabilistic Geophysical Joint Inversion</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classstateline_1_1comms_1_1_requester.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstateline_1_1comms_1_1_requester-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stateline::comms::Requester Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classstateline_1_1comms_1_1_requester.html" title="Requester object that takes jobs and returns results. Communicates with a delegator living in a (poss...">Requester</a> object that takes jobs and returns results. Communicates with a delegator living in a (possibly) different thread.  
 <a href="classstateline_1_1comms_1_1_requester.html#details">More...</a></p>

<p><code>#include &lt;requester.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afa7fdab2986215e8931310fb2ed8c147"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstateline_1_1comms_1_1_requester.html#afa7fdab2986215e8931310fb2ed8c147">Requester</a> (<a class="el" href="classstateline_1_1comms_1_1_delegator.html">Delegator</a> &amp;d)</td></tr>
<tr class="memdesc:afa7fdab2986215e8931310fb2ed8c147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classstateline_1_1comms_1_1_requester.html" title="Requester object that takes jobs and returns results. Communicates with a delegator living in a (poss...">Requester</a>.  <a href="#afa7fdab2986215e8931310fb2ed8c147">More...</a><br /></td></tr>
<tr class="separator:afa7fdab2986215e8931310fb2ed8c147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6ec5de25c13dfe3756a763d70f559b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstateline_1_1comms_1_1_requester.html#aef6ec5de25c13dfe3756a763d70f559b">operator()</a> (const <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &amp;j)</td></tr>
<tr class="memdesc:aef6ec5de25c13dfe3756a763d70f559b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a job and returns a result.  <a href="#aef6ec5de25c13dfe3756a763d70f559b">More...</a><br /></td></tr>
<tr class="separator:aef6ec5de25c13dfe3756a763d70f559b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e058ae69b659fb64af8e508c532ca7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstateline_1_1comms_1_1_requester.html#a5e058ae69b659fb64af8e508c532ca7d">submit</a> (uint id, const <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &amp;j)</td></tr>
<tr class="memdesc:a5e058ae69b659fb64af8e508c532ca7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submits a job for computation and immediately returns. An id is included to allow the job to be identified later, because when jobs are retrieved they may not arrive in the order they were submitted.  <a href="#a5e058ae69b659fb64af8e508c532ca7d">More...</a><br /></td></tr>
<tr class="separator:a5e058ae69b659fb64af8e508c532ca7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bac994924fe5c9f491654d275cd6db5"><td class="memItemLeft" align="right" valign="top">std::pair&lt; uint, <a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstateline_1_1comms_1_1_requester.html#a8bac994924fe5c9f491654d275cd6db5">retrieve</a> ()</td></tr>
<tr class="memdesc:a8bac994924fe5c9f491654d275cd6db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a job that has previously been submitted for computation. A pair is returned, with the id of the job (from the submit call), and the result. Note that jobs may not be retrieved in the order they were submitted.  <a href="#a8bac994924fe5c9f491654d275cd6db5">More...</a><br /></td></tr>
<tr class="separator:a8bac994924fe5c9f491654d275cd6db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf69c1cf5db14f32fedc2da1130836f4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstateline_1_1comms_1_1_requester.html#aaf69c1cf5db14f32fedc2da1130836f4">batch</a> (const std::vector&lt; <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &gt; &amp;jobs)</td></tr>
<tr class="memdesc:aaf69c1cf5db14f32fedc2da1130836f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a batch of jobs and returns a result. The function returns when all results have been returned.  <a href="#aaf69c1cf5db14f32fedc2da1130836f4">More...</a><br /></td></tr>
<tr class="separator:aaf69c1cf5db14f32fedc2da1130836f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3264d674f687a637144d53d957c003"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstateline_1_1comms_1_1_requester.html#a5d3264d674f687a637144d53d957c003">batchSubmit</a> (uint id, const std::vector&lt; <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &gt; &amp;jobs)</td></tr>
<tr class="memdesc:a5d3264d674f687a637144d53d957c003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submits a batch of jobs for computation and immediately returns. An id is included to allow the batch to be identified later, because when batches are retrieved they may not arrive in the order they were submitted.  <a href="#a5d3264d674f687a637144d53d957c003">More...</a><br /></td></tr>
<tr class="separator:a5d3264d674f687a637144d53d957c003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533c81bc220ab64c8b28185c8ec8a63d"><td class="memItemLeft" align="right" valign="top">std::pair&lt; uint, std::vector<br class="typebreak" />
&lt; <a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstateline_1_1comms_1_1_requester.html#a533c81bc220ab64c8b28185c8ec8a63d">batchRetrieve</a> ()</td></tr>
<tr class="memdesc:a533c81bc220ab64c8b28185c8ec8a63d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a batch of jobs that have previously been submitted for computation. A pair is returned, with the id of the batch (from the submit call), and the results. Note that batch may not be retrieved in the order they were submitted.  <a href="#a533c81bc220ab64c8b28185c8ec8a63d">More...</a><br /></td></tr>
<tr class="separator:a533c81bc220ab64c8b28185c8ec8a63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classstateline_1_1comms_1_1_requester.html" title="Requester object that takes jobs and returns results. Communicates with a delegator living in a (poss...">Requester</a> object that takes jobs and returns results. Communicates with a delegator living in a (possibly) different thread. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">JobType</td><td>The type of a job specification. </td></tr>
    <tr><td class="paramname">ResultType</td><td>The type being return as a result. / </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="afa7fdab2986215e8931310fb2ed8c147"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stateline::comms::Requester::Requester </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstateline_1_1comms_1_1_delegator.html">Delegator</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classstateline_1_1comms_1_1_requester.html" title="Requester object that takes jobs and returns results. Communicates with a delegator living in a (poss...">Requester</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>A reference to the delegator object to communicate with </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaf69c1cf5db14f32fedc2da1130836f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a> &gt; stateline::comms::Requester::batch </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>jobs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes a batch of jobs and returns a result. The function returns when all results have been returned. </p>
<dl class="section warning"><dt>Warning</dt><dd>Do not interleave different types of job call pairs and blocking calls. This will break horribly. For example, don't call submit in between batchsubmit and batch retrieve.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jobs</td><td>The vector of jobs to compute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The results of the job computations </dd></dl>

</div>
</div>
<a class="anchor" id="a533c81bc220ab64c8b28185c8ec8a63d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; uint, std::vector&lt; <a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a> &gt; &gt; stateline::comms::Requester::batchRetrieve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a batch of jobs that have previously been submitted for computation. A pair is returned, with the id of the batch (from the submit call), and the results. Note that batch may not be retrieved in the order they were submitted. </p>
<dl class="section warning"><dt>Warning</dt><dd>Do not interleave different types of job call pairs and blocking calls. This will break horribly. For example, don't call submit in between batchsubmit and batch retrieve.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A pair of the job id and the result </dd></dl>

</div>
</div>
<a class="anchor" id="a5d3264d674f687a637144d53d957c003"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stateline::comms::Requester::batchSubmit </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>jobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submits a batch of jobs for computation and immediately returns. An id is included to allow the batch to be identified later, because when batches are retrieved they may not arrive in the order they were submitted. </p>
<dl class="section warning"><dt>Warning</dt><dd>Do not interleave different types of job call pairs and blocking calls. This will break horribly. For example, don't call submit in between batchsubmit and batch retrieve.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The id of the batch </td></tr>
    <tr><td class="paramname">jobs</td><td>The vector of jobs to compute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The results of the job computations </dd></dl>

</div>
</div>
<a class="anchor" id="aef6ec5de25c13dfe3756a763d70f559b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a> stateline::comms::Requester::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &amp;&#160;</td>
          <td class="paramname"><em>j</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes a job and returns a result. </p>
<dl class="section warning"><dt>Warning</dt><dd>Do not interleave different types of job call pairs and blocking calls. This will break horribly. For example, don't call submit in between batchsubmit and batch retrieve.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">j</td><td>The job to compute. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result of the job computation. </dd></dl>

</div>
</div>
<a class="anchor" id="a8bac994924fe5c9f491654d275cd6db5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; uint, <a class="el" href="structstateline_1_1comms_1_1_result_data.html">ResultData</a> &gt; stateline::comms::Requester::retrieve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a job that has previously been submitted for computation. A pair is returned, with the id of the job (from the submit call), and the result. Note that jobs may not be retrieved in the order they were submitted. </p>
<dl class="section warning"><dt>Warning</dt><dd>Do not interleave different types of job call pairs and blocking calls. This will break horribly. For example, don't call submit in between batchsubmit and batch retrieve.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A pair of the job id and the result </dd></dl>

</div>
</div>
<a class="anchor" id="a5e058ae69b659fb64af8e508c532ca7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stateline::comms::Requester::submit </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structstateline_1_1comms_1_1_job_data.html">JobData</a> &amp;&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submits a job for computation and immediately returns. An id is included to allow the job to be identified later, because when jobs are retrieved they may not arrive in the order they were submitted. </p>
<dl class="section warning"><dt>Warning</dt><dd>Do not interleave different types of job call pairs and blocking calls. This will break horribly. For example, don't call submit in between batchsubmit and batch retrieve.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The job ID. </td></tr>
    <tr><td class="paramname">j</td><td>The job to compute. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/lb/code/GDF/src/comms/<a class="el" href="requester_8hpp.html">requester.hpp</a></li>
<li>/home/lb/code/GDF/src/comms/<a class="el" href="requester_8cpp.html">requester.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacestateline.html">stateline</a></li><li class="navelem"><a class="el" href="namespacestateline_1_1comms.html">comms</a></li><li class="navelem"><a class="el" href="classstateline_1_1comms_1_1_requester.html">Requester</a></li>
    <li class="footer">Generated on Mon Jun 30 2014 12:14:33 for Obsidian by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
